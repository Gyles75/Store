
<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram name="SÃ©quence Contract Synthesis" id="sequence">
    <mxGraphModel dx="1737" dy="1117" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1400" background="#ffffff" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="ðŸ“Š SÃ©quence d&#39;appel Contract Synthesis - Niveau 1 (Base Reflet)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#111827;" parent="1" vertex="1">
          <mxGeometry x="100" y="20" width="1200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="actor_u" value="ðŸ‘¤&lt;br&gt;&lt;b&gt;Utilisateur CATS&lt;/b&gt;" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#3B82F6;strokeColor=#2563EB;strokeWidth=2;fontColor=#1E40AF;fontSize=12;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="100" width="40" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lifeline_u" value="" style="line;strokeWidth=2;html=1;strokeColor=#94A3B8;dashed=1;dashPattern=5 5;" parent="1" vertex="1">
          <mxGeometry x="120" y="200" width="1" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="actor_f" value="ðŸ’» Front CATS&lt;br&gt;(MaBanque / NPC)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8B5CF6;strokeColor=#7C3AED;strokeWidth=2;fontColor=#FFFFFF;fontSize=12;fontStyle=1;arcSize=10;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="250" y="100" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lifeline_f" value="" style="line;strokeWidth=2;html=1;strokeColor=#94A3B8;dashed=1;dashPattern=5 5;" parent="1" vertex="1">
          <mxGeometry x="320" y="200" width="1" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="actor_gw" value="ðŸ” Gateway / ESB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EC4899;strokeColor=#DB2777;strokeWidth=2;fontColor=#FFFFFF;fontSize=12;fontStyle=1;arcSize=10;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="100" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lifeline_gw" value="" style="line;strokeWidth=2;html=1;strokeColor=#94A3B8;dashed=1;dashPattern=5 5;" parent="1" vertex="1">
          <mxGeometry x="540" y="200" width="1" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="actor_cs" value="âš™ï¸ API Contract&lt;br&gt;Synthesis" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F59E0B;strokeColor=#D97706;strokeWidth=2;fontColor=#FFFFFF;fontSize=12;fontStyle=1;arcSize=10;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="100" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lifeline_cs" value="" style="line;strokeWidth=2;html=1;strokeColor=#94A3B8;dashed=1;dashPattern=5 5;" parent="1" vertex="1">
          <mxGeometry x="760" y="200" width="1" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="actor_db" value="ðŸ—„ï¸ Base Reflet&lt;br&gt;SQL Server AlwaysOn" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#10B981;strokeColor=#059669;strokeWidth=2;fontColor=#FFFFFF;fontSize=12;fontStyle=1;arcSize=10;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="100" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lifeline_db" value="" style="line;strokeWidth=2;html=1;strokeColor=#94A3B8;dashed=1;dashPattern=5 5;" parent="1" vertex="1">
          <mxGeometry x="980" y="200" width="1" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="msg1" value="&lt;b&gt;1.&lt;/b&gt; Ouvre l&#39;Ã©cran de synthÃ¨se&lt;br&gt;et choisit un contrat" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#22C55E;strokeWidth=3;fontColor=#166534;fontSize=11;labelBackgroundColor=#F0FDF4;fontStyle=0;endArrow=classic;endFill=1;entryX=0.607;entryY=0.182;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.614;exitY=0.459;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="jdKLQ0XIkd-i10l9Ea3z-9" target="jdKLQ0XIkd-i10l9Ea3z-2" edge="1">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint x="114.99999999999977" y="700" as="sourcePoint" />
            <mxPoint x="314" y="700" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg2" value="&lt;b&gt;2.&lt;/b&gt; GET /contracts/{noContrat}?cSte=...&lt;br&gt;+ headers sÃ©curitÃ©" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#22C55E;strokeWidth=3;fontColor=#166534;fontSize=11;labelBackgroundColor=#F0FDF4;fontStyle=0;endArrow=classic;endFill=1;exitX=0.163;exitY=0.273;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.165;entryY=0.455;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1" target="jdKLQ0XIkd-i10l9Ea3z-3" source="jdKLQ0XIkd-i10l9Ea3z-2">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint x="324" y="320" as="sourcePoint" />
            <mxPoint x="544" y="320" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg3" value="&lt;b&gt;3.&lt;/b&gt; Appel REST routÃ© vers&lt;br&gt;Contract Synthesis" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#22C55E;strokeWidth=3;fontColor=#166534;fontSize=11;labelBackgroundColor=#F0FDF4;fontStyle=0;endArrow=classic;endFill=1;entryX=0.241;entryY=0.459;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.243;exitY=0.273;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" target="jdKLQ0XIkd-i10l9Ea3z-7" source="jdKLQ0XIkd-i10l9Ea3z-3">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint x="546" y="390" as="sourcePoint" />
            <mxPoint x="750" y="390" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="activation4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="755" y="460" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="msg4" value="&lt;b&gt;4.&lt;/b&gt; Validation des paramÃ¨tres&lt;br&gt;(noContrat, cSte, droits)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#F59E0B;strokeWidth=2;fontColor=#92400E;fontSize=11;labelBackgroundColor=#FEF3C7;fontStyle=0;endArrow=classic;endFill=1;dashed=1;dashPattern=3 3;" parent="1" edge="1">
          <mxGeometry x="0.3" y="-10" relative="1" as="geometry">
            <mxPoint x="765" y="480" as="sourcePoint" />
            <mxPoint x="820" y="480" as="targetPoint" />
            <Array as="points">
              <mxPoint x="820" y="480" />
              <mxPoint x="820" y="500" />
              <mxPoint x="765" y="500" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg5" value="&lt;b&gt;5.&lt;/b&gt; RequÃªte SQL (SELECT)&lt;br&gt;sur base Reflet" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#22C55E;strokeWidth=3;fontColor=#166534;fontSize=11;labelBackgroundColor=#F0FDF4;fontStyle=0;endArrow=classic;endFill=1;exitX=0.453;exitY=0.55;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.455;entryY=0.368;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1" target="jdKLQ0XIkd-i10l9Ea3z-11" source="jdKLQ0XIkd-i10l9Ea3z-7">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint x="760" y="570" as="sourcePoint" />
            <mxPoint x="980" y="570" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg6" value="&lt;b&gt;6.&lt;/b&gt; DonnÃ©es contrat&lt;br&gt;(montants, statuts, dates, pÃ©riodicitÃ©...)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#10B981;strokeWidth=3;fontColor=#065F46;fontSize=11;labelBackgroundColor=#D1FAE5;fontStyle=0;endArrow=classic;endFill=1;dashed=1;dashPattern=5 5;entryX=0.536;entryY=0.55;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.535;exitY=0.459;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" target="jdKLQ0XIkd-i10l9Ea3z-7" source="jdKLQ0XIkd-i10l9Ea3z-11">
          <mxGeometry x="-0.2" y="-10" relative="1" as="geometry">
            <mxPoint x="980" y="640" as="sourcePoint" />
            <mxPoint x="760" y="640" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="activation7" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="755" y="710" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="msg7" value="&lt;b&gt;7.&lt;/b&gt; Mapping technique â†’ modÃ¨le API&lt;br&gt;(format JSON)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#F59E0B;strokeWidth=2;fontColor=#92400E;fontSize=11;labelBackgroundColor=#FEF3C7;fontStyle=0;endArrow=classic;endFill=1;dashed=1;dashPattern=3 3;" parent="1" edge="1">
          <mxGeometry x="0.3" y="-10" relative="1" as="geometry">
            <mxPoint x="765" y="730" as="sourcePoint" />
            <mxPoint x="820" y="730" as="targetPoint" />
            <Array as="points">
              <mxPoint x="820" y="730" />
              <mxPoint x="820" y="750" />
              <mxPoint x="765" y="750" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg8" value="&lt;b&gt;8.&lt;/b&gt; HTTP 200 + payload JSON" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#10B981;strokeWidth=3;fontColor=#065F46;fontSize=11;labelBackgroundColor=#D1FAE5;fontStyle=0;endArrow=classic;endFill=1;dashed=1;dashPattern=5 5;entryX=0.742;entryY=0.636;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.744;exitY=0.732;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" target="jdKLQ0XIkd-i10l9Ea3z-3" source="jdKLQ0XIkd-i10l9Ea3z-7">
          <mxGeometry x="-0.2" y="-10" relative="1" as="geometry">
            <mxPoint x="765" y="820" as="sourcePoint" />
            <mxPoint x="545" y="820" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg9" value="&lt;b&gt;9.&lt;/b&gt; RÃ©ponse JSON vers le frontal" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#10B981;strokeWidth=3;fontColor=#065F46;fontSize=11;labelBackgroundColor=#D1FAE5;fontStyle=0;endArrow=classic;endFill=1;dashed=1;dashPattern=5 5;entryX=0.826;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.828;exitY=0.545;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" target="jdKLQ0XIkd-i10l9Ea3z-2" source="jdKLQ0XIkd-i10l9Ea3z-3">
          <mxGeometry x="-0.2" y="-10" relative="1" as="geometry">
            <mxPoint x="539" y="890" as="sourcePoint" />
            <mxPoint x="319" y="890" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg10" value="&lt;b&gt;10.&lt;/b&gt; Affichage de la synthÃ¨se crÃ©dit&lt;br&gt;dans l&#39;IHM CATS" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#10B981;strokeWidth=3;fontColor=#065F46;fontSize=11;labelBackgroundColor=#D1FAE5;fontStyle=0;endArrow=classic;endFill=1;dashed=1;dashPattern=5 5;exitX=0.905;exitY=0.545;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.91;entryY=0.277;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1" target="jdKLQ0XIkd-i10l9Ea3z-9" source="jdKLQ0XIkd-i10l9Ea3z-2">
          <mxGeometry x="-0.2" y="-10" relative="1" as="geometry">
            <mxPoint x="308" y="960" as="sourcePoint" />
            <mxPoint x="108" y="960" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend" value="ðŸ“‹ LÃ‰GENDE&lt;br&gt;&lt;br&gt;&lt;b&gt;Types de flÃ¨ches :&lt;/b&gt;&lt;br&gt;â†’ Vert continu : Appels synchrones&lt;br&gt;â‡¢ Vert pointillÃ©s : RÃ©ponses&lt;br&gt;âŸ² Orange pointillÃ©s : Traitements internes&lt;br&gt;&lt;br&gt;&lt;b&gt;Couleurs des composants :&lt;/b&gt;&lt;br&gt;ðŸ”µ Bleu : Utilisateur&lt;br&gt;ðŸŸ£ Violet : Frontend CATS&lt;br&gt;ðŸŸ¡ Rose : Gateway/ESB&lt;br&gt;ðŸŸ  Orange : API Synthesis&lt;br&gt;ðŸŸ¢ Vert : Base de donnÃ©es" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F9FAFB;strokeColor=#6B7280;strokeWidth=2;fontColor=#111827;fontSize=11;align=left;verticalAlign=top;arcSize=8;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="1010" y="720" width="240" height="320" as="geometry" />
        </mxCell>
        <mxCell id="note" value="ðŸ’¡ &lt;b&gt;Note :&lt;/b&gt; Ce diagramme reprÃ©sente le flux Niveau 1 (accÃ¨s Base Reflet uniquement).&lt;br&gt;Pour le Niveau 2 (appel Mainframe), voir le diagramme de sÃ©quence Ã©tendu." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#3B82F6;strokeWidth=2;fontColor=#1E3A8A;fontSize=11;align=left;verticalAlign=middle;arcSize=8;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="1050" width="950" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jdKLQ0XIkd-i10l9Ea3z-2" value="" style="line;strokeWidth=2;direction=south;html=1;" vertex="1" parent="1">
          <mxGeometry x="310" y="180" width="10" height="860" as="geometry" />
        </mxCell>
        <mxCell id="jdKLQ0XIkd-i10l9Ea3z-3" value="" style="line;strokeWidth=2;direction=south;html=1;" vertex="1" parent="1">
          <mxGeometry x="540" y="180" width="10" height="860" as="geometry" />
        </mxCell>
        <mxCell id="jdKLQ0XIkd-i10l9Ea3z-7" value="" style="line;strokeWidth=2;direction=south;html=1;" vertex="1" parent="1">
          <mxGeometry x="755.5" y="180" width="10" height="860" as="geometry" />
        </mxCell>
        <mxCell id="jdKLQ0XIkd-i10l9Ea3z-9" value="" style="line;strokeWidth=2;direction=south;html=1;" vertex="1" parent="1">
          <mxGeometry x="115.5" y="160" width="10" height="880" as="geometry" />
        </mxCell>
        <mxCell id="jdKLQ0XIkd-i10l9Ea3z-11" value="" style="line;strokeWidth=2;direction=south;html=1;" vertex="1" parent="1">
          <mxGeometry x="975.5" y="180" width="10" height="860" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
