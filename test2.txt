import java.io.FileOutputStream;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.Base64;

public class Base64ToFile {

    private static final String DESKTOP_PATH = System.getProperty("user.home") + "\\Desktop\\";

    public static void main(String[] args) {
        String base64FilePath = DESKTOP_PATH + "Keycloak.zip.b64";

        try {
            byte[] base64Content = Files.readAllBytes(Paths.get(base64FilePath));
            byte[] decodedBytes = Base64.getDecoder().decode(new String(base64Content));

            String outputFilePath = base64FilePath.replace(".b64", "_target.zip");
            try (FileOutputStream fos = new FileOutputStream(outputFilePath)) {
                fos.write(decodedBytes);
            }

            System.out.println("Le fichier a été restauré à partir de la chaîne Base64.");
        } catch (IOException e) {
            System.out.println("Erreur lors de la conversion de la chaîne Base64 en fichier.");
            e.printStackTrace();
        }
    }
}

